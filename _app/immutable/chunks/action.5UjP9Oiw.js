import{z as De,o as V,A as re,p as se,B as R}from"./utils.PhJnqrhY.js";import{r as ce,w as le}from"./paths.DWUp1XTr.js";function yt(t,e,r,n=!0){const o=e-r;return o<=0?n?t[t.length-1]:t[0]:t[o]}function wt(t,e,r,n=!0){const o=e+r;return o>t.length-1?n?t[0]:t[t.length-1]:t[o]}function Tt(t,e,r=!0){return e===t.length-1?r?t[0]:t[e]:t[e+1]}function Nt(t,e,r=!0){return e<=0?r?t[t.length-1]:t[0]:t[e-1]}function Ie(t){return t[t.length-1]}function Ft(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Et(t,e,r=De){const n=e.findIndex(o=>r(o,t));return n!==-1?e.splice(n,1):e.push(t),e}function Ae(t){return new Promise(e=>setTimeout(e,t))}const ge=()=>typeof window<"u";function Oe(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}const ye=t=>ge()&&t.test(Oe().toLowerCase()),Re=()=>ge()&&!!navigator.maxTouchPoints,Ce=()=>ye(/^mac/)&&!Re(),xe=()=>ye(/mac|iphone|ipad|ipod/i),Le=()=>xe()&&!Ce(),J="data-melt-scroll-lock";function fe(t,e){if(!t)return;const r=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=r}}function Be(t,e,r){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,r),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function Me(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function St(t){const e=document,r=e.defaultView??window,{documentElement:n,body:o}=e;if(o.hasAttribute(J))return V;o.setAttribute(J,"");const a=r.innerWidth-n.clientWidth,f=()=>Be(n,"--scrollbar-width",`${a}px`),l=Me(n),v=r.getComputedStyle(o)[l],g=()=>fe(o,{overflow:"hidden",[l]:`calc(${v} + ${a}px)`}),b=()=>{const{scrollX:E,scrollY:h,visualViewport:S}=r,D=(S==null?void 0:S.offsetLeft)??0,P=(S==null?void 0:S.offsetTop)??0,k=fe(o,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(P))}px`,left:`${-(E-Math.floor(D))}px`,right:"0",[l]:`calc(${v} + ${a}px)`});return()=>{k==null||k(),r.scrollTo(E,h)}},w=[f(),Le()?b():g()];return()=>{w.forEach(E=>E==null?void 0:E()),o.removeAttribute(J)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var we=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],W=we.join(","),Te=typeof Element>"u",x=Te?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,X=!Te&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Y=function t(e,r){var n;r===void 0&&(r=!0);var o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=o===""||o==="true",a=s||r&&e&&t(e.parentNode);return a},Ke=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},Ne=function(e,r,n){if(Y(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(W));return r&&x.call(e,W)&&o.unshift(e),o=o.filter(n),o},Fe=function t(e,r,n){for(var o=[],s=Array.from(e);s.length;){var a=s.shift();if(!Y(a,!1))if(a.tagName==="SLOT"){var f=a.assignedElements(),l=f.length?f:a.children,v=t(l,!0,n);n.flatten?o.push.apply(o,v):o.push({scopeParent:a,candidates:v})}else{var g=x.call(a,W);g&&n.filter(a)&&(r||!e.includes(a))&&o.push(a);var b=a.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(a),w=!Y(b,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(b&&w){var E=t(b===!0?a.children:b.children,!0,n);n.flatten?o.push.apply(o,E):o.push({scopeParent:a,candidates:E})}else s.unshift.apply(s,a.children)}}return o},Ee=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},C=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ke(e))&&!Ee(e)?0:e.tabIndex},je=function(e,r){var n=C(e);return n<0&&r&&!Ee(e)?0:n},$e=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Se=function(e){return e.tagName==="INPUT"},Ue=function(e){return Se(e)&&e.type==="hidden"},Ge=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},qe=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},Ve=function(e){if(!e.name)return!0;var r=e.form||X(e),n=function(f){return r.querySelectorAll('input[type="radio"][name="'+f+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(e.name));else try{o=n(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=qe(o,e.form);return!s||s===e},We=function(e){return Se(e)&&e.type==="radio"},Xe=function(e){return We(e)&&!Ve(e)},Ye=function(e){var r,n=e&&X(e),o=(r=n)===null||r===void 0?void 0:r.host,s=!1;if(n&&n!==e){var a,f,l;for(s=!!((a=o)!==null&&a!==void 0&&(f=a.ownerDocument)!==null&&f!==void 0&&f.contains(o)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&o;){var v,g,b;n=X(o),o=(v=n)===null||v===void 0?void 0:v.host,s=!!((g=o)!==null&&g!==void 0&&(b=g.ownerDocument)!==null&&b!==void 0&&b.contains(o))}}return s},de=function(e){var r=e.getBoundingClientRect(),n=r.width,o=r.height;return n===0&&o===0},ze=function(e,r){var n=r.displayCheck,o=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=x.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(x.call(a,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof o=="function"){for(var f=e;e;){var l=e.parentElement,v=X(e);if(l&&!l.shadowRoot&&o(l)===!0)return de(e);e.assignedSlot?e=e.assignedSlot:!l&&v!==e.ownerDocument?e=v.host:e=l}e=f}if(Ye(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return de(e);return!1},Ze=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var o=r.children.item(n);if(o.tagName==="LEGEND")return x.call(r,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}r=r.parentElement}return!1},z=function(e,r){return!(r.disabled||Y(r)||Ue(r)||ze(r,e)||Ge(r)||Ze(r))},ee=function(e,r){return!(Xe(r)||C(r)<0||!z(e,r))},_e=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},He=function t(e){var r=[],n=[];return e.forEach(function(o,s){var a=!!o.scopeParent,f=a?o.scopeParent:o,l=je(f,a),v=a?t(o.candidates):f;l===0?a?r.push.apply(r,v):r.push(f):n.push({documentOrder:s,tabIndex:l,item:o,isScope:a,content:v})}),n.sort($e).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(r)},Je=function(e,r){r=r||{};var n;return r.getShadowRoot?n=Fe([e],r.includeContainer,{filter:ee.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:_e}):n=Ne(e,r.includeContainer,ee.bind(null,r)),He(n)},Qe=function(e,r){r=r||{};var n;return r.getShadowRoot?n=Fe([e],r.includeContainer,{filter:z.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=Ne(e,r.includeContainer,z.bind(null,r)),n},L=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return x.call(e,W)===!1?!1:ee(r,e)},et=we.concat("iframe").join(","),Q=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return x.call(e,et)===!1?!1:z(r,e)};/*!
* focus-trap 7.6.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function te(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tt(t){if(Array.isArray(t))return te(t)}function rt(t,e,r){return(e=ut(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function at(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ve(Object(r),!0).forEach(function(n){rt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function it(t){return tt(t)||nt(t)||st(t)||at()}function ot(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ut(t){var e=ot(t,"string");return typeof e=="symbol"?e:e+""}function st(t,e){if(t){if(typeof t=="string")return te(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(t,e):void 0}}var pe={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n.pause()}var o=e.indexOf(r);o===-1||e.splice(o,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},ct=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},lt=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},U=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ft=function(e){return U(e)&&!e.shiftKey},dt=function(e){return U(e)&&e.shiftKey},he=function(e){return setTimeout(e,0)},$=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,n):e},G=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},vt=[],bt=function(e,r){var n=(r==null?void 0:r.document)||document,o=(r==null?void 0:r.trapStack)||vt,s=be({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ft,isKeyBackward:dt},r),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,l=function(i,u,c){return i&&i[u]!==void 0?i[u]:s[c||u]},v=function(i,u){var c=typeof(u==null?void 0:u.composedPath)=="function"?u.composedPath():void 0;return a.containerGroups.findIndex(function(p){var m=p.container,T=p.tabbableNodes;return m.contains(i)||(c==null?void 0:c.includes(m))||T.find(function(d){return d===i})})},g=function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=u.hasFallback,p=c===void 0?!1:c,m=u.params,T=m===void 0?[]:m,d=s[i];if(typeof d=="function"&&(d=d.apply(void 0,it(T))),d===!0&&(d=void 0),!d){if(d===void 0||d===!1)return d;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var N=d;if(typeof d=="string"){try{N=n.querySelector(d)}catch(F){throw new Error("`".concat(i,'` appears to be an invalid selector; error="').concat(F.message,'"'))}if(!N&&!p)throw new Error("`".concat(i,"` as selector refers to no known node"))}return N},b=function(){var i=g("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Q(i,s.tabbableOptions))if(v(n.activeElement)>=0)i=n.activeElement;else{var u=a.tabbableGroups[0],c=u&&u.firstTabbableNode;i=c||g("fallbackFocus")}else i===null&&(i=g("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},w=function(){if(a.containerGroups=a.containers.map(function(i){var u=Je(i,s.tabbableOptions),c=Qe(i,s.tabbableOptions),p=u.length>0?u[0]:void 0,m=u.length>0?u[u.length-1]:void 0,T=c.find(function(F){return L(F)}),d=c.slice().reverse().find(function(F){return L(F)}),N=!!u.find(function(F){return C(F)>0});return{container:i,tabbableNodes:u,focusableNodes:c,posTabIndexesFound:N,firstTabbableNode:p,lastTabbableNode:m,firstDomTabbableNode:T,lastDomTabbableNode:d,nextTabbableNode:function(O){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,A=u.indexOf(O);return A<0?K?c.slice(c.indexOf(O)+1).find(function(j){return L(j)}):c.slice(0,c.indexOf(O)).reverse().find(function(j){return L(j)}):u[A+(K?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!g("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(i){return i.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},E=function(i){var u=i.activeElement;if(u)return u.shadowRoot&&u.shadowRoot.activeElement!==null?E(u.shadowRoot):u},h=function(i){if(i!==!1&&i!==E(document)){if(!i||!i.focus){h(b());return}i.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=i,ct(i)&&i.select()}},S=function(i){var u=g("setReturnFocus",{params:[i]});return u||(u===!1?!1:i)},D=function(i){var u=i.target,c=i.event,p=i.isBackward,m=p===void 0?!1:p;u=u||G(c),w();var T=null;if(a.tabbableGroups.length>0){var d=v(u,c),N=d>=0?a.containerGroups[d]:void 0;if(d<0)m?T=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:T=a.tabbableGroups[0].firstTabbableNode;else if(m){var F=a.tabbableGroups.findIndex(function(_){var H=_.firstTabbableNode;return u===H});if(F<0&&(N.container===u||Q(u,s.tabbableOptions)&&!L(u,s.tabbableOptions)&&!N.nextTabbableNode(u,!1))&&(F=d),F>=0){var O=F===0?a.tabbableGroups.length-1:F-1,K=a.tabbableGroups[O];T=C(u)>=0?K.lastTabbableNode:K.lastDomTabbableNode}else U(c)||(T=N.nextTabbableNode(u,!1))}else{var A=a.tabbableGroups.findIndex(function(_){var H=_.lastTabbableNode;return u===H});if(A<0&&(N.container===u||Q(u,s.tabbableOptions)&&!L(u,s.tabbableOptions)&&!N.nextTabbableNode(u))&&(A=d),A>=0){var j=A===a.tabbableGroups.length-1?0:A+1,ue=a.tabbableGroups[j];T=C(u)>=0?ue.firstTabbableNode:ue.firstDomTabbableNode}else U(c)||(T=N.nextTabbableNode(u))}}else T=g("fallbackFocus");return T},P=function(i){var u=G(i);if(!(v(u,i)>=0)){if($(s.clickOutsideDeactivates,i)){f.deactivate({returnFocus:s.returnFocusOnDeactivate});return}$(s.allowOutsideClick,i)||i.preventDefault()}},k=function(i){var u=G(i),c=v(u,i)>=0;if(c||u instanceof Document)c&&(a.mostRecentlyFocusedNode=u);else{i.stopImmediatePropagation();var p,m=!0;if(a.mostRecentlyFocusedNode)if(C(a.mostRecentlyFocusedNode)>0){var T=v(a.mostRecentlyFocusedNode),d=a.containerGroups[T].tabbableNodes;if(d.length>0){var N=d.findIndex(function(F){return F===a.mostRecentlyFocusedNode});N>=0&&(s.isKeyForward(a.recentNavEvent)?N+1<d.length&&(p=d[N+1],m=!1):N-1>=0&&(p=d[N-1],m=!1))}}else a.containerGroups.some(function(F){return F.tabbableNodes.some(function(O){return C(O)>0})})||(m=!1);else m=!1;m&&(p=D({target:a.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(a.recentNavEvent)})),h(p||a.mostRecentlyFocusedNode||b())}a.recentNavEvent=void 0},I=function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=i;var c=D({event:i,isBackward:u});c&&(U(i)&&i.preventDefault(),h(c))},B=function(i){(s.isKeyForward(i)||s.isKeyBackward(i))&&I(i,s.isKeyBackward(i))},ne=function(i){lt(i)&&$(s.escapeDeactivates,i)!==!1&&(i.preventDefault(),f.deactivate())},ae=function(i){var u=G(i);v(u,i)>=0||$(s.clickOutsideDeactivates,i)||$(s.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},ie=function(){if(a.active)return pe.activateTrap(o,f),a.delayInitialFocusTimer=s.delayInitialFocus?he(function(){h(b())}):h(b()),n.addEventListener("focusin",k,!0),n.addEventListener("mousedown",P,{capture:!0,passive:!1}),n.addEventListener("touchstart",P,{capture:!0,passive:!1}),n.addEventListener("click",ae,{capture:!0,passive:!1}),n.addEventListener("keydown",B,{capture:!0,passive:!1}),n.addEventListener("keydown",ne),f},oe=function(){if(a.active)return n.removeEventListener("focusin",k,!0),n.removeEventListener("mousedown",P,!0),n.removeEventListener("touchstart",P,!0),n.removeEventListener("click",ae,!0),n.removeEventListener("keydown",B,!0),n.removeEventListener("keydown",ne),f},ke=function(i){var u=i.some(function(c){var p=Array.from(c.removedNodes);return p.some(function(m){return m===a.mostRecentlyFocusedNode})});u&&h(b())},Z=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(ke):void 0,M=function(){Z&&(Z.disconnect(),a.active&&!a.paused&&a.containers.map(function(i){Z.observe(i,{subtree:!0,childList:!0})}))};return f={get active(){return a.active},get paused(){return a.paused},activate:function(i){if(a.active)return this;var u=l(i,"onActivate"),c=l(i,"onPostActivate"),p=l(i,"checkCanFocusTrap");p||w(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=n.activeElement,u==null||u();var m=function(){p&&w(),ie(),M(),c==null||c()};return p?(p(a.containers.concat()).then(m,m),this):(m(),this)},deactivate:function(i){if(!a.active)return this;var u=be({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},i);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,oe(),a.active=!1,a.paused=!1,M(),pe.deactivateTrap(o,f);var c=l(u,"onDeactivate"),p=l(u,"onPostDeactivate"),m=l(u,"checkCanReturnFocus"),T=l(u,"returnFocus","returnFocusOnDeactivate");c==null||c();var d=function(){he(function(){T&&h(S(a.nodeFocusedBeforeActivation)),p==null||p()})};return T&&m?(m(S(a.nodeFocusedBeforeActivation)).then(d,d),this):(d(),this)},pause:function(i){if(a.paused||!a.active)return this;var u=l(i,"onPause"),c=l(i,"onPostPause");return a.paused=!0,u==null||u(),oe(),M(),c==null||c(),this},unpause:function(i){if(!a.paused||!a.active)return this;var u=l(i,"onUnpause"),c=l(i,"onPostUnpause");return a.paused=!1,u==null||u(),w(),ie(),M(),c==null||c(),this},updateContainerElements:function(i){var u=[].concat(i).filter(Boolean);return a.containers=u.map(function(c){return typeof c=="string"?n.querySelector(c):c}),a.active&&w(),M(),this}},f.updateContainerElements(e),f};function Pt(t={}){let e;const{immediate:r,...n}=t,o=le(!1),s=le(!1),a=b=>e==null?void 0:e.activate(b),f=b=>{e==null||e.deactivate(b)},l=()=>{e&&(e.pause(),s.set(!0))},v=()=>{e&&(e.unpause(),s.set(!1))};return{useFocusTrap:b=>(e=bt(b,{...n,onActivate(){var w;o.set(!0),(w=t.onActivate)==null||w.call(t)},onDeactivate(){var w;o.set(!1),(w=t.onDeactivate)==null||w.call(t)}}),r&&a(),{destroy(){f(),e=void 0}}),hasFocus:ce(o),isPaused:ce(s),activate:a,deactivate:f,pause:l,unpause:v}}const q=[],kt=(t,e)=>{let r=V;function n(){const s=q.indexOf(t);s>=0&&q.splice(s,1)}function o(s){r();const{open:a,onClose:f,shouldCloseOnInteractOutside:l,closeOnInteractOutside:v}=s;Ae(100).then(()=>{a?q.push(t):n()});function g(){return Ie(q)===t}function b(){g()&&f&&(f(),n())}function w(h){const S=h.target;re(S)&&S&&g()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation())}function E(h){l!=null&&l(h)&&g()&&(h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),b())}r=pt(t,{onInteractOutsideStart:w,onInteractOutside:v?E:void 0,enabled:a}).destroy}return o(e),{update:o,destroy(){n(),r()}}},pt=(t,e)=>{let r=V,n=V,o=!1,s=!1,a=!1;function f(g){r(),n();const{onInteractOutside:b,onInteractOutsideStart:w,enabled:E}=g;if(!E)return;function h(P){b&&me(P,t)&&(w==null||w(P));const k=P.target;re(k)&&Pe(t,k)&&(s=!0),o=!0}function S(P){b==null||b(P)}const D=ht(t);if(typeof PointerEvent<"u"){const P=k=>{n();const I=B=>{l(B)&&S(B),v()};if(k.pointerType==="touch"){n=R(D,"click",I,{capture:!0,once:!0});return}I(k)};r=se(R(D,"pointerdown",h,!0),R(D,"pointerup",P,!0))}else{const P=I=>{a?a=!1:l(I)&&S(I),v()},k=I=>{a=!0,l(I)&&S(I),v()};r=se(R(D,"mousedown",h,!0),R(D,"mouseup",P,!0),R(D,"touchstart",h,!0),R(D,"touchend",k,!0))}}function l(g){return!!(o&&!s&&me(g,t))}function v(){o=!1,s=!1}return f(e),{update:f,destroy(){r(),n()}}};function me(t,e){if("button"in t&&t.button>0)return!1;const r=t.target;if(!re(r))return!1;const n=r.ownerDocument;return!n||!n.documentElement.contains(r)?!1:e&&!Pe(e,r)}function Pe(t,e){return t===e||t.contains(e)}function ht(t){return(t==null?void 0:t.ownerDocument)??document}export{yt as b,Pt as c,wt as f,Ie as l,Tt as n,Nt as p,St as r,Ae as s,Et as t,kt as u,Ft as w};
